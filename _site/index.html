<!DOCTYPE html>


<html lang="en"><head><title>Jinesh M.K - Binary Thoughts</title><meta name="author" content='Jinesh M.K'><meta name="viewport" content="width=device-width, initial-scale=1.0"><link href="/css/simplex.bootstrap.min.css" rel="stylesheet" media="screen"><link href="/css/gh-pages-blog.css" rel="stylesheet" media="screen"><link href="/css/bootstrap-responsive.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/rss+xml" title="RSS" href="/rss.xml" /><link rel="icon" type="image/png" href="/img/TheDereck.png" /></head><body><div class="navbar navbar-inverse"><div class="navbar-inner"><div class="container"><a class="btn btn-navbar collapsed" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="/"><strong>JINESH'S BLOG</strong></a><div class="nav-collapse collapse"><ul class="nav pull-right"></ul></div></div></div></div><div class="container"><div class="row"><div class="span8"><div class="page-header"><h1>Binary Thoughts</h1></div><div class="ghpb-post"><div class="well ghpb-well-outline"><h2><a href="/mqtt/2013/08/18/mqtt-java-publisher-and-subscriber-using-eclipse-paho.html">MQTT Java Publisher and Subscriber using Eclipse Paho</a></h2><br><p>MQTT is a one of most popular machine-to-machine (M2M) connectivity protocol. It was designed with extremely lightweight that support embedded and low power processing device. MQTT popularly used in samrtphone chat application and sensor communication. You can find more information about MQTT from here. MQTT is broker based message queuing system. It is very to install open Source MQTT server like Mosquitto using a simple apt-get or yum command.</p><pre><code>sudo apt-get install mosquitto</code></pre><p>Eclipse Paho is one mqtt client work well with mosquitto. The below MQTT subscriber and publisher code based on java eclipse paho library 1.0.1. You can also use public mosquitto server in <a href='http://test.mosquitto.org/'>test.mosquitto.org</a></p><p>Checkout the complete source for MQTT subscriber and publisher from <a href='https://bitbucket.org/mkjinesh/mqttclient'>here</a></p><br><div class="row"><small><div class="span3 offset1"><i class="icon-user"></i> Authored by Jinesh M.K.<br><i class="icon-pencil"></i> Published on 18 August 2013.<br><i class="icon-comments"></i> <a href="/mqtt/2013/08/18/mqtt-java-publisher-and-subscriber-using-eclipse-paho.html#disqus_thread">Comments</a><br></div><div class="span3"><i class="icon-folder-open"></i> Category: <a href="/filter.html?category=mqtt">Mqtt</a><br><i class="icon-tags"></i> Tags: <a href="/filter.html?tag=mqtt">mqtt</a></div></small></div></div></div><br><br><div class="ghpb-post"><div class="well ghpb-well-outline"><h2><a href="/tinyos/2013/03/21/Install-TinyOS-2.1.1-in-ubuntu-12.04.html">Install TinyOS 2.1.1 in ubuntu 12.04</a></h2><br><p>TinyOS is a open source operating system for low power wireless device used in sensor networks,person area network, smart meters etc. You can find more information about tinyos from here</p><p>The following configurations are done for tiny os 2.1.1 for micaz mote</p><h3 id='open_etcaptsourceslist_and_add_the_following_line_at_the_end_of_file'>Open /etc/apt/sources.list and add the following line at the end of file.</h3><pre><code>deb http://tinyos.stanford.edu/tinyos/dists/ubuntu karmic main </code></pre><h3 id='update_aptget_and_install_tinyos'>Update apt-get and install tinyos</h3><pre><code>sudo apt-get updatesudo apt-get install tinyos-2.1.1</code></pre><h3 id='change_the_ownership_of_tinyos_root_directory_to_your_user'>Change the ownership of tinyos root directory to your user</h3><pre><code>sudo chown &lt;yourusername&gt;:&lt;yourusername&gt; -R /opt/tinyos-2.1.1/ &lt;/yourusername&gt;&lt;/yourusername&gt;</code></pre><h3 id='edit_bashrc_in_user_home_and_add_the_following_lines_at_the_end'>Edit .bashrc in user home and add the following lines at the end</h3><pre><code>export TOSDIR=$TOSROOT/tos  export CLASSPATH=$TOSROOT/support/sdk/java/tinyos.jar:.$CLASSPATH  export MAKERULES=$TOSROOT/support/make/Makerules  export PATH=/opt/msp430/bin:$PATH  source /opt/tinyos-2.1.1/tinyos.sh  </code></pre><h3 id='install_the_java_tools_using'>Install the java tools using</h3><pre><code>sudo tos-install-jni</code></pre><h3 id='install_java_docs'>Install Java docs</h3><p>Go to /opt/tinyos-2.1.1/support/sdk/java</p><pre><code>makemake install  make javadoc  </code></pre><h3 id='common_errors'>Common Errors</h3><h4 id='unexpected_operator_during_tosjniinstall_command'>Unexpected operator during tos-jni-install command</h4><h4 id='error'>Error</h4><pre><code>sudo tos-install-jni   [: 31: =: unexpected operator   Installing 32-bit Java JNI code in /usr/lib/jvm/java-1.5.0-sun/jre/lib/i386 …  done.  </code></pre><h4 id='solution'>Solution</h4><p>Edit /usr/bin/tos-install-jni and change 1st line from “#!/bin/sh” to “#!/bin/bash”</p><br><div class="row"><small><div class="span3 offset1"><i class="icon-user"></i> Authored by Jinesh M.K.<br><i class="icon-pencil"></i> Published on 21 March 2013.<br><i class="icon-comments"></i> <a href="/tinyos/2013/03/21/Install-TinyOS-2.1.1-in-ubuntu-12.04.html#disqus_thread">Comments</a><br></div><div class="span3"><i class="icon-folder-open"></i> Category: <a href="/filter.html?category=tinyos">Tinyos</a><br><i class="icon-tags"></i> Tags: <a href="/filter.html?tag=tinyos">tinyos</a></div></small></div></div></div><br><br><div class="pagination"><div class="row"><div class="span2 offset1"></div><div class="span2"><span class="page_number">Page: 1 of 1</span></div><div class="span2"></div></div></div></div><div class="span3 offset1"><div class="well"><div class="thumbnail"><img data-src="holder.js/200x200" alt="" src="http://jineshmk.github.io/img/jinesh.jpg?s=200"></div><br><div class="text-center"><p class="text-center"><small><strong>Jinesh M.K</strong></small></p><p>Researcher at Amrita University</p></div><br><p class="text-center"><small><strong>FOLLOW JINESH</strong></small></p><ul class="inline text-center"><li><a class="btn" href="https://www.facebook.com/jinesh.mk" target="_blank"><i class="icon-facebook"></i></a></li><li><a class="btn" href="https://plus.google.com/u/0/116310278957156166243/posts" target="_blank"><i class="icon-google-plus"></i></a></li><li><a class="btn" href="in.linkedin.com/in/mkjinesh" target="_blank"><i class="icon-linkedin"></i></a></li><li><a class="btn" href="http://www.twitter.com/jinumk" target="_blank"><i class="icon-twitter"></i></a></li></ul><!--<br><p class="text-center"><small><strong>GITHUB PROJECTS</strong></small></p><div class="text-center"><div class="btn-group btn-group-vertical"><a class="btn" href="http://jineshmk.github.com/" target="_blank"><i class="icon-bitbucket"></i> gh-pages-blog</a></div></div> --></div><div class="well ghpb-well-navlist"><ul class="nav nav-list ghpb-nav-list"><li class="nav-header ghpb-nav-header"><i class="icon-calendar"></i> Archive</li><li data-toggle="collapse" data-target="#2013"><a href="javascript:void(0);"><i class="icon-calendar"></i> 2013</a></li><div id="2013" class="collapse"><ul class="nav nav-list ghpb-nav-list"><li><a href="/mqtt/2013/08/18/mqtt-java-publisher-and-subscriber-using-eclipse-paho.html"><i class="icon-pencil"></i> MQTT Java Publisher and Subscriber using Eclipse Paho</a></li><li><a href="/tinyos/2013/03/21/Install-TinyOS-2.1.1-in-ubuntu-12.04.html"><i class="icon-pencil"></i> Install TinyOS 2.1.1 in ubuntu 12.04</a></li></ul></div></ul></div><div class="well ghpb-well-navlist"><ul class="nav nav-list ghpb-nav-list"><li class="nav-header ghpb-nav-header"><i class="icon-folder-close"></i> Categories</li><li data-toggle="collapse" data-target="#Mqtt"><a href="javascript:void(0);"><i class="icon-folder-open"></i> Mqtt</a></li><div id="Mqtt" class="collapse"><ul class="nav nav-list ghpb-nav-list"><li><a href="/mqtt/2013/08/18/mqtt-java-publisher-and-subscriber-using-eclipse-paho.html"><i class="icon-pencil"></i> MQTT Java Publisher and Subscriber using Eclipse Paho</a></li></ul></div><li data-toggle="collapse" data-target="#Tinyos"><a href="javascript:void(0);"><i class="icon-folder-open"></i> Tinyos</a></li><div id="Tinyos" class="collapse"><ul class="nav nav-list ghpb-nav-list"><li><a href="/tinyos/2013/03/21/Install-TinyOS-2.1.1-in-ubuntu-12.04.html"><i class="icon-pencil"></i> Install TinyOS 2.1.1 in ubuntu 12.04</a></li></ul></div></ul></div><div class="well ghpb-well-navlist"><ul class="nav nav-list ghpb-nav-list"><li class="nav-header ghpb-nav-header"><i class="icon-tags"></i> Tags</li><li data-toggle="collapse" data-target="#mqtt"><a href="javascript:void(0);"><i class="icon-tag"></i> mqtt</a></li><div id="mqtt" class="collapse"><ul class="nav nav-list ghpb-nav-list"><li><a href="/mqtt/2013/08/18/mqtt-java-publisher-and-subscriber-using-eclipse-paho.html"><i class="icon-pencil"></i> MQTT Java Publisher and Subscriber using Eclipse Paho</a></li></ul></div><li data-toggle="collapse" data-target="#tinyos"><a href="javascript:void(0);"><i class="icon-tag"></i> tinyos</a></li><div id="tinyos" class="collapse"><ul class="nav nav-list ghpb-nav-list"><li><a href="/tinyos/2013/03/21/Install-TinyOS-2.1.1-in-ubuntu-12.04.html"><i class="icon-pencil"></i> Install TinyOS 2.1.1 in ubuntu 12.04</a></li></ul></div></ul></div><div class="well ghpb-well-navlist"><ul class="nav nav-list ghpb-nav-list"><li class="nav-header ghpb-nav-header"><i class="icon-external-link"></i> Links</li><li><a href="http://jinutechworld.blogspot.com" target="_blank"><i class="icon-external-link"></i> Binary Thoughts</a></li><li><a href="https://bitbucket.org/mkjinesh/" target="_blank"><i class="icon-external-link"></i> BitBucket</a></li></ul></div></div></div><div class="row ghpb"><div class="span8">&copy; Copyright 2013</div></div></div><script src="/js/jquery-1.9.1.min.js"></script><script src="/js/bootstrap.min.js"></script><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-18357171-2', 'jineshmk.github.io');  ga('send', 'pageview');</script><script>   </script><script type="text/javascript">var disqus_shortname = 'jinesh';(function () {var s = document.createElement('script');s.async = true;s.type = 'text/javascript';s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);}());</script></body></html>